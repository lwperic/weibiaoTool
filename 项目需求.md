

# 维标管理工具功能需求文档

## 1. 项目概述
维标管理工具是一个集文档管理、知识图谱抽取、图数据库存储和可视化查询于一体的智能管理系统。系统通过大模型技术从Word格式的维修标准文档中提取结构化知识，构建知识图谱，并提供友好的用户界面进行管理和查询。

## 2. 功能需求

### 2.1 维标文档管理模块

#### 2.1.1 文档上传管理
- 支持文件夹拖拽批量上传和单个文件选择上传
- 自动验证文件格式是否为有效的Word表格文档
- 基于文件哈希值检测并提示重复文件

#### 2.1.2 文档列表展示
- 表格视图展示文档列表，包含文档名称、上传时间、文件大小、处理状态、最后处理时间等字段
- 统计视图展示总文档数量、各状态文档数量、最近上传文档等统计信息

#### 2.1.3 文档操作功能
- 支持文档在线预览、重命名、删除操作
- 支持按处理状态筛选文档和按文档名称搜索
- 支持单选和多选操作模式

#### 2.1.4 数据清洗处理
- 提供标准化的数据清洗器接口，支持默认实现和用户自定义实现
- 清洗器需实现文档清洗、数据验证、支持格式查询三个核心方法
- 清洗过程自动调用，支持插件式扩展

#### 2.1.5 错误处理机制
- 错误分类：格式错误、解析错误、数据错误、系统错误
- 错误报告包含文档名称、错误类型、详细描述、时间戳、修复建议
- 批量处理时单个文档错误不影响其他文档处理，但需记录错误信息

### 2.2 知识图谱抽取模块

#### 2.2.1 抽取配置管理
- 支持大模型配置（如DeepSeek API设置）
- 可配置批量处理并发数量和单个文档处理超时时间
- 提供灵活的抽取参数调整界面

#### 2.2.2 处理状态管理
- 使用颜色标识不同状态：灰色（未处理）、黄色（处理中）、绿色（已完成）、红色（错误）
- 处理过程中实时更新界面状态，提供进度显示
- 支持处理状态的手动刷新和重置

#### 2.2.3 增量更新机制
- 实体名称标准化处理，确保名称一致性
- 基于哈希算法生成稳定实体标识符
- 增量更新规则：识别已存在实体并保持ID不变，只更新可变属性；为新实体生成稳定ID；维护关系网络一致性
- 支持同一文档多次抽取和修改后重新抽取

#### 2.2.4 性能与可靠性
- 单个文档平均处理时间要求小于2分钟
- 支持3-5个文档同时处理
- 错误率超过阈值时自动暂停处理，防止系统过载
- 提供处理中断后的恢复机制

### 2.3 知识图谱查询与可视化模块

#### 2.3.1 自然语言查询
- 支持中文自然语言输入查询
- 使用大模型将自然语言转换为Cypher查询语句
- 保存查询历史记录，提供常用查询模板
- 支持复杂条件组合查询

#### 2.3.2 可视化展示
- 提供多种图谱布局：力导向图、树状图等
- 不同实体类型使用差异化视觉样式（颜色、图标）
- 清晰显示关系类型和属性信息
- 支持交互操作：节点点击、拖拽、缩放、详细信息查看

#### 2.3.3 高级功能
- 多条件组合筛选查询
- 实体间关联路径查找
- 实体和关系数量统计
- 查询结果导出功能（JSON、CSV格式）

### 2.4 系统配置模块

#### 2.4.1 基本配置
- 图数据库连接配置管理
- 大模型API配置管理
- 文档存储路径设置
- 系统日志配置

#### 2.4.2 监控功能
- 系统资源监控（CPU、内存、磁盘）
- 处理队列状态实时监控
- 错误次数统计显示
- 系统健康状态检查

## 3. 非功能需求

### 3.1 性能要求
- 用户界面操作响应时间小于1秒
- 知识查询响应时间小于3秒
- 支持每小时处理20个以上文档
- 支持多个用户同时使用

### 3.2 可靠性要求
- 单点故障不影响系统整体运行
- 定期数据备份机制
- 错误状态自动恢复能力
- 处理中断后的续处理支持

### 3.3 可用性要求
- 直观易用的图形化界面
- 操作提示和帮助文档
- 中文界面支持
- 友好的错误提示信息

## 4. 技术架构

### 4.1 技术选型
- 前端界面：Gradio框架
- 开发语言：Python 3.12
- 图数据库：Neo4j
- 大模型集成：DeepSeek API
- 文档处理：python-docx、LangChain等库

### 4.2 系统架构
分层架构设计，包括用户界面层、应用服务层、数据处理层、数据存储层和外部服务层

### 4.3 部署要求
- 操作系统：Windows/Linux/macOS
- Python版本：3.12及以上
- 内存要求：最低8GB，推荐16GB
- 存储空间：至少50GB可用空间
- 网络要求：稳定互联网连接

## 5. 验收标准

### 5.1 功能验收
- 文档管理功能完整实现
- 知识图谱抽取准确率达到90%以上
- 增量更新机制正确运行
- 自然语言查询功能正常工作
- 可视化界面显示符合要求

### 5.2 性能验收
- 处理性能达到设计指标
- 系统响应时间符合要求
- 并发处理能力达标

### 5.3 用户体验验收
- 界面操作流畅直观
- 错误提示清晰明确
- 系统稳定性符合要求

## 6. 项目里程碑

### 6.1 第一阶段：核心功能开发
- 文档管理模块实现
- 知识图谱抽取基础功能
- 基本查询界面

### 6.2 第二阶段：高级功能开发
- 增量更新机制实现
- 高级可视化功能
- 系统配置功能

### 6.3 第三阶段：优化测试
- 性能优化
- 用户体验改进
- 用户验收测试

### 6.4 第四阶段：部署上线
- 生产环境部署
- 用户培训
- 使用文档编写

这份需求文档专注于核心功能需求，去除了权限管理和安全相关的内容，更加简洁明了，便于项目初期的快速开发和验证。






